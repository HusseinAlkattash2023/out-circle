{"version":3,"file":"static/js/9888.76f24d50.chunk.js","mappings":"yRAYMA,EAASC,EAAAA,GACL,CACNC,aAAcD,EAAAA,KAAaE,SAAS,6BACpCC,aAAcH,EAAAA,KAAaI,IAAI,GAAGF,SAAS,wBAC3CG,iBAAkBL,EAAAA,KAEfM,MAAM,CAACN,EAAAA,GAAQ,gBAAiB,MAAO,0BAE3CE,WAyGH,UAvGuB,WAAO,IAAD,MAErBK,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOR,EAAP,KAAqBS,EAArB,KACA,GAAwCD,EAAAA,EAAAA,UAAS,IAAjD,eAAON,EAAP,KAAqBQ,EAArB,KACMC,EAAQC,aAAaC,QAAQ,SAEnC,GAIIC,EAAAA,EAAAA,IAAQ,CACVC,UAAUC,EAAAA,EAAAA,GAAYlB,KAJtBmB,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAKTE,EAAQT,aAAaC,QAAQ,QAC7BS,EAAMC,KAAKC,MAAMH,GACjBI,EAAUH,EAAII,IACdC,EAAYL,EAAIM,aAEhBC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMF,YAAjB,IA0BjC,OACE,iBAAKG,UAAU,iBAAf,WACE,0BACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,OAAf,WACE,iBAAKA,UAAU,SAAf,WACE,6CACA,gBAAKC,IAAKC,EAAAA,EAAMC,IAAI,SAEtB,kBAAMC,SAAUlB,GAlCL,WACfmB,IAAAA,IAAA,UACKR,EADL,2CACoDJ,EADpD,yBAC4EzB,EAD5E,yBACyGE,EADzG,sBACmIyB,IAEhIW,MAAK,SAACC,GAGH,6ZADAA,EAAIC,KAGJC,EAAAA,GAAAA,MACE,uFAE2B,kBAAbF,EAAIC,OACpBC,EAAAA,GAAAA,QAAc,+CACdC,YAAW,WACTpC,EAAS,IAAD,OAAKK,GACd,GAAE,KAEN,IACAgC,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACb,GACJ,IAYK,WACE,iBAAKZ,UAAU,OAAf,WACE,iBAAKA,UAAU,QAAf,WACE,6CACA,kCACEe,KAAK,YACD9B,EAAS,iBAFf,IAGE+B,YAAY,eACZC,MAAOjD,EACPkD,SAAU,SAACC,GAAD,OAAO1C,EAAgB0C,EAAEC,OAAOH,MAAhC,MAEZ,iBAAMI,MAAO,CAAEC,MAAO,OAAtB,mBACGnC,EAAOnB,oBADV,aACG,EAAqBuD,cAG1B,iBAAKvB,UAAU,QAAf,WACE,6CACA,kCACEe,KAAK,YACD9B,EAAS,iBAFf,IAGEgC,MAAO/C,EACPgD,SAAU,SAACC,GAAD,OAAOzC,EAAgByC,EAAEC,OAAOH,MAAhC,MAEZ,iBAAMI,MAAO,CAAEC,MAAO,OAAtB,mBACGnC,EAAOjB,oBADV,aACG,EAAqBqD,cAG1B,iBAAKvB,UAAU,QAAf,WACE,qDACA,0BAAOe,KAAK,YAAe9B,EAAS,uBACpC,iBAAMoC,MAAO,CAAEC,MAAO,OAAtB,mBACGnC,EAAOf,wBADV,aACG,EAAyBmD,iBAIhC,mBAAQR,KAAK,SAAb,2BAGJ,gBAAKf,UAAU,WAAf,UACE,gBAAKC,IAAKuB,EAAOrB,IAAI,QAEvB,qBAGL,C","sources":["Components/ChangePassword/ChangePassword.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport pass from \"../../Assets/images/password.svg\";\r\nimport login from \"../../Assets/images/Mask Group 2.png\";\r\nimport \"./ChangePasswod.css\";\r\nimport Axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    old_password: yup.string().required(\"Please enter old password\"),\r\n    new_password: yup.string().min(4).required(\"Password is required\"),\r\n    confirm_password: yup\r\n      .string()\r\n      .oneOf([yup.ref(\"new_password\"), null], \"Passwords must match\"),\r\n  })\r\n  .required();\r\n\r\nconst ChangePassword = () => {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [old_password, setOld_Password] = useState(\"\");\r\n  const [new_password, setNew_Password] = useState(\"\");\r\n  const route = localStorage.getItem(\"route\");\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const items = localStorage.getItem(\"user\");\r\n  const obj = JSON.parse(items);\r\n  const user_id = obj._id;\r\n  const user_type = obj.account_type;\r\n\r\n  const BASE_API_URL = useSelector((state) => state.BASE_API_URL);\r\n\r\n  const onSubmit = () => {\r\n    Axios.put(\r\n      `${BASE_API_URL}/api/users/update-user-password/${user_id}?old_password=${old_password}&new_password=${new_password}&user_type=${user_type}`\r\n    )\r\n      .then((res) => {\r\n        if (\r\n          res.data ===\r\n          \"كلمة السر التي أدخلتها غير صحيحة ، من فضلك أعد إدخال كلمة السر القديمة بشكل صحيح ..\"\r\n        ) {\r\n          toast.error(\r\n            \"The password you entered is incorrect, please re-enter your old password correctly.\"\r\n          );\r\n        } else if (typeof res.data === \"object\") {\r\n          toast.success(\"Your password has been changed successfully\");\r\n          setTimeout(() => {\r\n            navigate(`/${route}`);\r\n          }, 2000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"changepassword\">\r\n      <div>\r\n        <Toaster />\r\n      </div>\r\n      <div className=\"form\">\r\n        <div className=\"header\">\r\n          <h2>Change Password</h2>\r\n          <img src={pass} alt=\"\" />\r\n        </div>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"body\">\r\n            <div className=\"feild\">\r\n              <label>Old Password</label>\r\n              <input\r\n                type=\"password\"\r\n                {...register(\"old_password\")}\r\n                placeholder=\"old password\"\r\n                value={old_password}\r\n                onChange={(e) => setOld_Password(e.target.value)}\r\n              />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.old_password?.message}\r\n              </span>\r\n            </div>\r\n            <div className=\"feild\">\r\n              <label>New Password</label>\r\n              <input\r\n                type=\"password\"\r\n                {...register(\"new_password\")}\r\n                value={new_password}\r\n                onChange={(e) => setNew_Password(e.target.value)}\r\n              />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.new_password?.message}\r\n              </span>\r\n            </div>\r\n            <div className=\"feild\">\r\n              <label>Confirm New Password</label>\r\n              <input type=\"password\" {...register(\"confirm_password\")} />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.confirm_password?.message}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\">Submit</button>\r\n        </form>\r\n      </div>\r\n      <div className=\"section2\">\r\n        <img src={login} alt=\"\" />\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"],"names":["schema","yup","old_password","required","new_password","min","confirm_password","oneOf","navigate","useNavigate","useState","setOld_Password","setNew_Password","route","localStorage","getItem","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","items","obj","JSON","parse","user_id","_id","user_type","account_type","BASE_API_URL","useSelector","state","className","src","pass","alt","onSubmit","Axios","then","res","data","toast","setTimeout","catch","err","console","log","type","placeholder","value","onChange","e","target","style","color","message","login"],"sourceRoot":""}