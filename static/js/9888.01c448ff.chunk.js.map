{"version":3,"file":"static/js/9888.01c448ff.chunk.js","mappings":"8QAYMA,EAASC,EAAAA,GAAW,CACxBC,aAAcD,EAAAA,KAAaE,SAAS,6BACpCC,aAAcH,EAAAA,KAAaI,IAAI,GAAGF,SAAS,wBAC3CG,iBAAkBL,EAAAA,KAAaM,MAAM,CAACN,EAAAA,GAAQ,gBAAiB,MAAO,0BACrEE,WAuEH,UApEuB,WAAO,IAAD,MAC3B,GAAwCK,EAAAA,EAAAA,UAAS,IAAjD,eAAON,EAAP,KAAqBO,EAArB,KACA,GAAwCD,EAAAA,EAAAA,UAAS,IAAjD,eAAOJ,EAAP,KAAqBM,EAArB,KAEA,GAAyDC,EAAAA,EAAAA,IAAQ,CAC/DC,UAAUC,EAAAA,EAAAA,GAAYb,KADhBc,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA0BC,EAA5C,EAAgCC,UAAYD,OAItCE,EAAQC,aAAaC,QAAQ,QAC7BC,EAAMC,KAAKC,MAAML,GACjBM,EAAUH,EAAII,IACdC,EAAYL,EAAIM,aAEhBC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMF,YAAjB,IAkBjC,OACE,iBAAKG,UAAU,iBAAf,WACE,0BAAK,SAAC,KAAD,OACL,iBAAKA,UAAU,OAAf,WACE,iBAAKA,UAAU,SAAf,WACE,6CACA,gBAAKC,IAAKC,EAAAA,EAAMC,IAAI,SAEtB,kBAAMC,SAAYpB,GAxBP,WACfqB,IAAAA,IAAA,UACKR,EADL,2CACoDJ,EADpD,yBAC4EtB,EAD5E,yBACyGE,EADzG,sBACmIsB,IAElIW,MAAK,SAACC,GACa,6ZAAbA,EAAIC,KACLC,EAAAA,GAAAA,MAAY,uFACgB,kBAAdF,EAAIC,MAClBC,EAAAA,GAAAA,QAAc,8CAEnB,IACAC,OAAM,SAACC,GACJC,QAAQC,IAAIF,EACf,GACF,IAUK,WACA,iBAAKX,UAAU,OAAf,WACE,iBAAKA,UAAU,QAAf,WACE,6CACA,kCAAOc,KAAK,YAAe/B,EAAS,iBAApC,IAAqDgC,YAAY,eAAeC,MAAO7C,EAAc8C,SAAU,SAACC,GAAD,OAAMxC,EAAgBwC,EAAEC,OAAOH,MAA/B,MAC/G,iBAAMI,MAAO,CAACC,MAAM,OAApB,mBAA6BpC,EAAOd,oBAApC,aAA6B,EAAqBmD,cAEpD,iBAAKtB,UAAU,QAAf,WACE,6CACA,kCAAOc,KAAK,YAAe/B,EAAS,iBAApC,IAAqDiC,MAAO3C,EAAc4C,SAAU,SAACC,GAAD,OAAMvC,EAAgBuC,EAAEC,OAAOH,MAA/B,MACpF,iBAAMI,MAAO,CAACC,MAAM,OAApB,mBAA6BpC,EAAOZ,oBAApC,aAA6B,EAAqBiD,cAEpD,iBAAKtB,UAAU,QAAf,WACE,qDACA,0BAAOc,KAAK,YAAe/B,EAAS,uBACpC,iBAAMqC,MAAO,CAACC,MAAM,OAApB,mBAA6BpC,EAAOV,wBAApC,aAA6B,EAAyB+C,iBAGxD,mBAAQR,KAAK,SAAb,2BAGJ,gBAAKd,UAAU,WAAf,UACE,gBAAKC,IAAKsB,EAAOpB,IAAI,QAEvB,qBAGL,C","sources":["Components/ChangePassword/ChangePassword.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport pass from \"../../Assets/images/password.svg\";\r\nimport login from \"../../Assets/images/Mask Group 2.png\";\r\nimport \"./ChangePasswod.css\";\r\nimport Axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\nconst schema = yup.object({\r\n  old_password: yup.string().required(\"Please enter old password\"),\r\n  new_password: yup.string().min(4).required('Password is required'),\r\n  confirm_password: yup.string().oneOf([yup.ref('new_password'), null], 'Passwords must match')\r\n}).required();\r\n\r\n\r\nconst ChangePassword = () => {\r\n  const [old_password, setOld_Password] = useState(\"\");\r\n  const [new_password, setNew_Password] = useState(\"\");\r\n\r\n  const { register, handleSubmit, formState:{ errors } } = useForm({\r\n    resolver: yupResolver(schema)\r\n  });\r\n\r\n  const items = localStorage.getItem(\"user\");\r\n  const obj = JSON.parse(items);\r\n  const user_id = obj._id;\r\n  const user_type = obj.account_type;\r\n\r\n  const BASE_API_URL = useSelector((state) => state.BASE_API_URL);\r\n\r\n  const onSubmit = () => {\r\n    Axios.put(\r\n      `${BASE_API_URL}/api/users/update-user-password/${user_id}?old_password=${old_password}&new_password=${new_password}&user_type=${user_type}`\r\n    )\r\n    .then((res)=>{\r\n        if(res.data === \"كلمة السر التي أدخلتها غير صحيحة ، من فضلك أعد إدخال كلمة السر القديمة بشكل صحيح ..\"){\r\n          toast.error(\"The password you entered is incorrect, please re-enter your old password correctly.\")\r\n        }else if(typeof(res.data) === \"object\"){\r\n          toast.success(\"Your password has been changed successfully\")\r\n        }\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err)\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div className=\"changepassword\">\r\n      <div><Toaster/></div>\r\n      <div className=\"form\">\r\n        <div className=\"header\">\r\n          <h2>Change Password</h2>\r\n          <img src={pass} alt=\"\" />\r\n        </div>\r\n        <form onSubmit = {handleSubmit(onSubmit)}>\r\n        <div className=\"body\">\r\n          <div className=\"feild\">\r\n            <label>Old Password</label>\r\n            <input type=\"password\" {...register(\"old_password\")} placeholder=\"old password\" value={old_password} onChange={(e)=> setOld_Password(e.target.value)} />\r\n            <span style={{color:\"red\"}}>{errors.old_password?.message}</span>\r\n          </div>\r\n          <div className=\"feild\">\r\n            <label>New Password</label>\r\n            <input type=\"password\" {...register(\"new_password\")} value={new_password} onChange={(e)=> setNew_Password(e.target.value)} />\r\n            <span style={{color:\"red\"}}>{errors.new_password?.message}</span>\r\n          </div>\r\n          <div className=\"feild\">\r\n            <label>Confirm New Password</label>\r\n            <input type=\"password\" {...register(\"confirm_password\")}/>\r\n            <span style={{color:\"red\"}}>{errors.confirm_password?.message}</span>\r\n          </div>\r\n          </div>\r\n          <button type=\"submit\">Submit</button>\r\n        </form>\r\n      </div>\r\n      <div className=\"section2\">\r\n        <img src={login} alt=\"\" />\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"],"names":["schema","yup","old_password","required","new_password","min","confirm_password","oneOf","useState","setOld_Password","setNew_Password","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","items","localStorage","getItem","obj","JSON","parse","user_id","_id","user_type","account_type","BASE_API_URL","useSelector","state","className","src","pass","alt","onSubmit","Axios","then","res","data","toast","catch","err","console","log","type","placeholder","value","onChange","e","target","style","color","message","login"],"sourceRoot":""}