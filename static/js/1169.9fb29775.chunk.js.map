{"version":3,"file":"static/js/1169.9fb29775.chunk.js","mappings":"0RAYMA,EAASC,EAAAA,GAAW,CACxBC,KAAMD,EAAAA,KAAaE,SAAS,qBAC5BC,SAAUH,EAAAA,KAAaE,SAAS,wBAAwBE,IAAI,EAAI,+CAChEC,qBAAsBL,EAAAA,KACnBM,MAAM,CAACN,EAAAA,GAAQ,YAAa,MAAO,0BACrCE,WAuEH,UArEkB,WAAO,IAAD,MAChBK,GAAWC,EAAAA,EAAAA,MACjB,GAAiCC,EAAAA,EAAAA,UAAS,IAA1C,eAAON,EAAP,KAAkBO,EAAlB,KACA,GAA2BD,EAAAA,EAAAA,UAAS,IAApC,eAAOE,EAAP,KAAeC,EAAf,KACA,GAAyDC,EAAAA,EAAAA,IAAQ,CAC/DC,UAAUC,EAAAA,EAAAA,GAAYhB,KADhBiB,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAA0BC,EAA5C,EAAgCC,UAAYD,OAGtCjB,EAAOmB,aAAaC,QAAQ,QAC5BC,EAAOF,aAAaC,QAAQ,WAC5BE,EAAUH,aAAaC,QAAQ,iBAErCG,EAAAA,EAAAA,YAAU,WACJJ,aAAaC,QAAQ,kBACvBd,EAAS,IAEZ,GAAE,CAACA,IAEJ,IAAMkB,GAAeC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,YAAV,IAkBtC,OACE,iBAAKG,UAAU,QAAf,WACE,0BAAK,SAAC,KAAD,OACP,iBAAKA,UAAU,OAAf,WACI,+BACI,4CACA,gBAAKC,IAAKC,EAAAA,EAAWC,IAAI,SAE7B,kBAAMC,SAAUf,GAxBL,WACZN,IAAUV,EACXgC,IAAAA,IAAA,UAAaR,EAAb,qCAAsDH,EAAtD,yBAA2EC,EAA3E,yBAAmGpB,IAClG+B,MAAK,SAACC,GACLC,EAAAA,GAAAA,QAAc,+CACdC,YAAW,WACT9B,EAAS,SACV,GAAE,IACJ,IACA+B,OAAM,SAACC,GACNC,QAAQC,MAAMF,EACf,IAEDH,EAAAA,GAAAA,MAAY,qCAEb,IAS2CR,UAAU,OAAlD,WACE,iBAAKA,UAAU,OAAf,WACE,2CACA,kCAAOc,KAAK,QAAW1B,EAAS,SAAhC,IAAyC2B,MAAOhC,EAAOiC,SAAU,SAACC,GAAD,OAAMjC,EAASiC,EAAEC,OAAOH,MAAxB,MACjE,iBAAMI,MAAO,CAACC,MAAM,OAApB,mBAA6B9B,EAAOjB,YAApC,aAA6B,EAAagD,cAE5C,iBAAKrB,UAAU,OAAf,WACE,6CACA,kCAAOc,KAAK,YAAe1B,EAAS,aAApC,IAAiD2B,MAAOxC,EAAUyC,SAAU,SAACC,GAAKnC,EAAYmC,EAAEC,OAAOH,MAAO,MAC9G,iBAAMI,MAAO,CAACC,MAAM,OAApB,mBAA6B9B,EAAOf,gBAApC,aAA6B,EAAiB8C,cAEhD,iBAAKrB,UAAU,OAAf,WACE,iDACA,0BAAOc,KAAK,YAAe1B,EAAS,2BACpC,iBAAM+B,MAAO,CAACC,MAAM,OAApB,mBAA6B9B,EAAOb,4BAApC,aAA6B,EAA6B4C,cAE5D,mBAAQP,KAAK,SAASd,UAAU,SAAhC,2BAGN,gBAAKA,UAAU,QAAf,UACE,gBAAKC,IAAKqB,EAAOnB,IAAI,SAI1B,C","sources":["Pages/ResetPass/index.js"],"sourcesContent":["import React ,{useState , useEffect}from 'react'\r\nimport { useForm } from \"react-hook-form\";\r\nimport imagepass from \"../../Assets/images/password.svg\"\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport {useNavigate} from 'react-router-dom'\r\nimport * as yup from \"yup\";\r\nimport './index.css';\r\nimport Axios from 'axios';\r\nimport image from '../../Assets/images/Mask Group 2.png'\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst schema = yup.object({\r\n  code: yup.string().required(\"Please Enter code\"),\r\n  password: yup.string().required('Password is required').min(8 , \"Password must contain at least 8 characters\"),\r\n  passwordConfirmation: yup.string()\r\n    .oneOf([yup.ref('password'), null], 'Passwords must match')\r\n}).required();\r\n\r\nconst ResetPass = () => {\r\n  const navigate = useNavigate();\r\n  const [password , setPassword] = useState(\"\")\r\n  const [code_ , setCode_] = useState(\"\")\r\n  const { register, handleSubmit, formState:{ errors } } = useForm({\r\n    resolver: yupResolver(schema)\r\n  });\r\n  const code = localStorage.getItem(\"code\");\r\n  const user = localStorage.getItem(\"user_id\");\r\n  const account = localStorage.getItem(\"account_type\");\r\n  \r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"is-user-login\")) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const BASE_API_URL = useSelector(state => state.BASE_API_URL);\r\n\r\n  const onSubmit = ()=>{\r\n    if(code_ === code){\r\n      Axios.put(`${BASE_API_URL}/api/users/reset-password/${user}?account_type=${account}&new_password=${password}`)\r\n      .then((res)=>{\r\n        toast.success(\"Your password has been changed successfully\")\r\n        setTimeout(() => {\r\n          navigate(\"/login\");\r\n        }, 3000);\r\n      })\r\n      .catch((err)=>{\r\n        console.error(err)\r\n      })\r\n    }else{\r\n      toast.error(\"The code you entered is incorrect!\")\r\n    }\r\n    }\r\n  return (\r\n    <div className='reset'>\r\n      <div><Toaster/></div>\r\n    <div className='body'>\r\n        <header>\r\n            <h2>Reset Password</h2>\r\n            <img src={imagepass} alt=\"\"/>\r\n        </header>\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"my-2\">\r\n          <div className='pass'>\r\n            <label>Enter Code</label>\r\n            <input type=\"text\" {...register(\"code\")} value={code_} onChange={(e)=> setCode_(e.target.value)}/>\r\n            <span style={{color:\"red\"}}>{errors.code?.message}</span>\r\n          </div>\r\n          <div className='pass'>\r\n            <label>New Password</label>\r\n            <input type=\"password\" {...register(\"password\")} value={password} onChange={(e)=>{setPassword(e.target.value)}} />\r\n            <span style={{color:\"red\"}}>{errors.password?.message}</span>\r\n          </div>\r\n          <div className='pass'>\r\n            <label>Confirm Password</label>\r\n            <input type=\"password\" {...register(\"passwordConfirmation\")} />\r\n            <span style={{color:\"red\"}}>{errors.passwordConfirmation?.message}</span>\r\n          </div>\r\n          <button type='submit' className='submit'>Submit</button>\r\n        </form>\r\n    </div>\r\n    <div className=\"image\">\r\n      <img src={image} alt=\"\"/>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPass\r\n"],"names":["schema","yup","code","required","password","min","passwordConfirmation","oneOf","navigate","useNavigate","useState","setPassword","code_","setCode_","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","localStorage","getItem","user","account","useEffect","BASE_API_URL","useSelector","state","className","src","imagepass","alt","onSubmit","Axios","then","res","toast","setTimeout","catch","err","console","error","type","value","onChange","e","target","style","color","message","image"],"sourceRoot":""}