{"version":3,"file":"static/js/5837.ef504df4.chunk.js","mappings":"0RAYMA,EAASC,EAAAA,GACL,CACNC,aAAcD,EAAAA,KAAaE,SAAS,2KACpCC,aAAcH,EAAAA,KAEXE,SAAS,2KACTE,IAAI,EAAG,2LACVC,iBAAkBL,EAAAA,KAEfM,MAAM,CAACN,EAAAA,GAAQ,gBAAiB,MAAO,8IAE3CE,WAoGH,UAlGyB,WAAO,IAAD,MACvBK,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOR,EAAP,KAAqBS,EAArB,KACA,GAAwCD,EAAAA,EAAAA,UAAS,IAAjD,eAAON,EAAP,KAAqBQ,EAArB,KACMC,EAAQC,aAAaC,QAAQ,SAEnC,GAIIC,EAAAA,EAAAA,IAAQ,CACVC,UAAUC,EAAAA,EAAAA,GAAYlB,KAJtBmB,EADF,EACEA,SACAC,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAKTE,EAAQT,aAAaC,QAAQ,QAC7BS,EAAMC,KAAKC,MAAMH,GACjBI,EAAUH,EAAII,IACdC,EAAYL,EAAIM,aAEhBC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMF,YAAjB,IAuBjC,OACE,iBAAKG,UAAU,iBAAf,WACE,0BACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,UAAf,WACE,iBAAKA,UAAU,SAAf,WACE,gBAAKC,IAAKC,EAAAA,EAAMC,IAAI,MACpB,6HAEF,kBAAMC,SAAUlB,GA/BL,WACfmB,IAAAA,IAAA,UACKR,EADL,2CACoDJ,EADpD,yBAC4EzB,EAD5E,yBACyGE,EADzG,sBACmIyB,IAEhIW,MAAK,SAACC,GACmB,kBAAbA,EAAIC,KACbC,EAAAA,GAAAA,MACE,gbAE2B,kBAAbF,EAAIC,OACpBC,EAAAA,GAAAA,QAAc,8LACdC,YAAW,WACTpC,EAAS,IAAD,OAAKK,GACd,GAAE,KAEN,IACAgC,OAAM,SAACC,GACNC,QAAQC,IAAIF,EACb,GACJ,IAYK,WACE,iBAAKZ,UAAU,OAAf,WACE,iBAAKA,UAAU,QAAf,WACE,yIACA,oCACMf,EAAS,iBADf,IAEE8B,KAAK,WACLC,MAAOhD,EACPiD,SAAU,SAACC,GAAD,OAAOzC,EAAgByC,EAAEC,OAAOH,MAAhC,MAEZ,iBAAMI,MAAO,CAAEC,MAAO,OAAtB,mBACGlC,EAAOnB,oBADV,aACG,EAAqBsD,cAG1B,iBAAKtB,UAAU,QAAf,WACE,yIACA,oCACMf,EAAS,iBADf,IAEE8B,KAAK,WACLC,MAAO9C,EACP+C,SAAU,SAACC,GAAD,OAAOxC,EAAgBwC,EAAEC,OAAOH,MAAhC,MAEZ,iBAAMI,MAAO,CAAEC,MAAO,OAAtB,mBACGlC,EAAOjB,oBADV,aACG,EAAqBoD,cAG1B,iBAAKtB,UAAU,QAAf,WACE,wKACA,0BAAOe,KAAK,YAAe9B,EAAS,uBACpC,iBAAMmC,MAAO,CAAEC,MAAO,OAAtB,mBACGlC,EAAOf,wBADV,aACG,EAAyBkD,iBAIhC,mBAAQP,KAAK,SAAb,mDAGJ,gBAAKf,UAAU,cAAf,UACE,gBAAKC,IAAKsB,EAAOpB,IAAI,QAEvB,qBAGL,C","sources":["Components/ChangePassword/ChangePasswordAr.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport pass from \"../../Assets/images/password.svg\";\r\nimport login from \"../../Assets/images/ar_photo/login.png\";\r\nimport \"./ChangePasswod.css\";\r\nimport Axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    old_password: yup.string().required(\"من فضلك أدخل كلمة المرور القديمة\"),\r\n    new_password: yup\r\n      .string()\r\n      .required(\"من فضلك أدخل كلمة المرور الجديدة\")\r\n      .min(4, \"يجب أن تكون كلمة المرور أكثر من 4 أحرف\"),\r\n    confirm_password: yup\r\n      .string()\r\n      .oneOf([yup.ref(\"new_password\"), null], \"يجب أن تتطابق كلمات المرور\"),\r\n  })\r\n  .required();\r\n\r\nconst ChangePasswordAr = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [old_password, setOld_Password] = useState(\"\");\r\n  const [new_password, setNew_Password] = useState(\"\");\r\n  const route = localStorage.getItem(\"route\");\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const items = localStorage.getItem(\"user\");\r\n  const obj = JSON.parse(items);\r\n  const user_id = obj._id;\r\n  const user_type = obj.account_type;\r\n\r\n  const BASE_API_URL = useSelector((state) => state.BASE_API_URL);\r\n\r\n  const onSubmit = () => {\r\n    Axios.put(\r\n      `${BASE_API_URL}/api/users/update-user-password/${user_id}?old_password=${old_password}&new_password=${new_password}&user_type=${user_type}`\r\n    )\r\n      .then((res) => {\r\n        if (typeof res.data === \"string\") {\r\n          toast.error(\r\n            \"كلمة المرور التي أدخلتها غير صحيحة ، يرجى إعادة إدخال كلمة المرور القديمة بشكل صحيح\"\r\n          );\r\n        } else if (typeof res.data === \"object\") {\r\n          toast.success(\"تم تغيير كلمة المرور الخاصة بك بنجاح\");\r\n          setTimeout(() => {\r\n            navigate(`/${route}`);\r\n          }, 2000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"changepassword\">\r\n      <div>\r\n        <Toaster />\r\n      </div>\r\n      <div className=\"form_ar\">\r\n        <div className=\"header\">\r\n          <img src={pass} alt=\"\" />\r\n          <h2>تغيير كلمة المرور</h2>\r\n        </div>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"body\">\r\n            <div className=\"feild\">\r\n              <label>كلمة المرور القديمة</label>\r\n              <input\r\n                {...register(\"old_password\")}\r\n                type=\"password\"\r\n                value={old_password}\r\n                onChange={(e) => setOld_Password(e.target.value)}\r\n              />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.old_password?.message}\r\n              </span>\r\n            </div>\r\n            <div className=\"feild\">\r\n              <label>كلمة المرور الجديدة</label>\r\n              <input\r\n                {...register(\"new_password\")}\r\n                type=\"password\"\r\n                value={new_password}\r\n                onChange={(e) => setNew_Password(e.target.value)}\r\n              />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.new_password?.message}\r\n              </span>\r\n            </div>\r\n            <div className=\"feild\">\r\n              <label>تأكيد كلمة المرور الجديدة</label>\r\n              <input type=\"password\" {...register(\"confirm_password\")} />\r\n              <span style={{ color: \"red\" }}>\r\n                {errors.confirm_password?.message}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\">إرسال</button>\r\n        </form>\r\n      </div>\r\n      <div className=\"section2-ar\">\r\n        <img src={login} alt=\"\" />\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePasswordAr;\r\n"],"names":["schema","yup","old_password","required","new_password","min","confirm_password","oneOf","navigate","useNavigate","useState","setOld_Password","setNew_Password","route","localStorage","getItem","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","items","obj","JSON","parse","user_id","_id","user_type","account_type","BASE_API_URL","useSelector","state","className","src","pass","alt","onSubmit","Axios","then","res","data","toast","setTimeout","catch","err","console","log","type","value","onChange","e","target","style","color","message","login"],"sourceRoot":""}