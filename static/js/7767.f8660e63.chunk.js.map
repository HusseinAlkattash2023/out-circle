{"version":3,"file":"static/js/7767.f8660e63.chunk.js","mappings":"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","sources":["Pages/Login/index.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport back from \"../../Assets/images/back.png\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport Axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport login from \"../../Assets/images/Mask Group 2.png\";\r\nimport logoLogin from \"../../Assets/images/logoLogin.png\";\r\nimport \"./index.css\";\r\n\r\nfunction Login() {\r\n  const intialValues = { text: \"\", password: \"\", user_type: \"\" };\r\n  const [formValues, setFormValues] = useState(intialValues);\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const BASE_API_URL = useSelector((state) => state.BASE_API_URL);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"is-user-login\")) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value.trim() });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setFormErrors(validate(formValues));\r\n    const errors = Object.values(validate(formValues));\r\n    if (errors.length === 0) {\r\n      Axios.get(\r\n        `${BASE_API_URL}/api/users/user-info?${`input=${formValues.text}`}&${`password=${formValues.password}`}&${`user_type=${formValues.user_type}`}`\r\n      )\r\n        .then((res) => {\r\n          let data = res.data;\r\n          if (data === \"عذراً الحساب الذي ادخلته غير موجود ، رجاءً أدخل إيميل آخر من فضلك ...\") {\r\n            toast.error(\"Sorry, the account you entered does not exist, please enter another email please...\");\r\n          } else {\r\n            switch (formValues.user_type) {\r\n              case \"companies\":\r\n                localStorage.setItem(\"user_corporate\", JSON.stringify(data));\r\n                setTimeout(() => {\r\n                  navigate(\"/corporate\");\r\n                }, 3000);\r\n                break;\r\n              case \"institutes\":\r\n                localStorage.setItem(\"user_institute\", JSON.stringify(data));\r\n                setTimeout(() => {\r\n                  navigate(\"/institute\");\r\n                }, 3000);\r\n                break;\r\n              case \"scientific_careers\":\r\n                localStorage.setItem(\"user_scientific\", JSON.stringify(data));\r\n                setTimeout(() => {\r\n                  navigate(\"/scientific\");\r\n                }, 3000);\r\n                break;\r\n              case \"craftsmen\":\r\n                localStorage.setItem(\"user_handicraft\", JSON.stringify(data));\r\n                setTimeout(() => {\r\n                  navigate(\"/handicraft\");\r\n                }, 3000);\r\n                break;\r\n              case \"individuals\":\r\n                localStorage.setItem(\"user_individuals\", JSON.stringify(data));\r\n                setTimeout(() => {\r\n                  navigate(\"/individuals\");\r\n                }, 3000);\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            toast.success(\"Logged in successfully...\");\r\n            localStorage.setItem(\"is-user-login\", true);\r\n            localStorage.setItem(\"user\" , JSON.stringify(data));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n  const validate = (values) => {\r\n    let errors = {};\r\n\r\n    var mailFormat = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})|([0-9]{10})+$/;\r\n    if (!values.text) {\r\n      errors.text = \"Please enter email or mobile number\"\r\n    } else if (!mailFormat.test(values.text)) {\r\n      errors.text = \"Invalid Input Please enter Email Or mobile number\";\r\n    }\r\n    if (!values.password) {\r\n      errors.password = \"Please enter password\";\r\n    } else if (values.password.length < 8) {\r\n      errors.password = \"Password must be more than 8 characters\";\r\n    }\r\n    if (!values.user_type) {\r\n      errors.user_type = \"Please enter type account\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Link to=\"/\" className=\"back\">\r\n        <span>Back</span>\r\n        <img src={back} alt=\"\" />\r\n      </Link>\r\n      <div className=\"login_\">\r\n        <div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <img src={logoLogin} alt=\"\" />\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <Toaster />\r\n            </div>\r\n            <form onSubmit={handleSubmit} noValidate>\r\n              <div className=\"bar\">\r\n                <div className=\"select\">\r\n                  <label>select your type account</label>\r\n                  <br />\r\n                  <select\r\n                    name=\"user_type\"\r\n                    value={formValues.user_type}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"\" hidden>account type</option>\r\n                    <option value=\"companies\">Corporate</option>\r\n                    <option value=\"institutes\">Institute</option>\r\n                    <option value=\"scientific_careers\">\r\n                      Scientific Profissional\r\n                    </option>\r\n                    <option value=\"craftsmen\">Handicraft</option>\r\n                    <option value=\"individuals\">Individuals</option>\r\n                  </select>\r\n                  {formErrors.user_type && (\r\n                    <span className=\"error\" style={{ color: \"red\" }}>\r\n                      {formErrors.user_type}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"email\">\r\n                  <label htmlFor=\"email\">mobile number or email</label>\r\n                  <br />\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"text\"\r\n                    id=\"email\"\r\n                    onChange={handleChange}\r\n                    className={formErrors.text && \"input-error\"}\r\n                  />\r\n                  {formErrors.text && (\r\n                    <span className=\"error\" style={{ color: \"red\" }}>\r\n                      {formErrors.text}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"password\">\r\n                  <label htmlFor=\"password_\">password</label>\r\n                  <br />\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={formValues.password}\r\n                    onChange={handleChange}\r\n                    className={formErrors.password && \"input-error\"}\r\n                  />\r\n                  {formErrors.password && (\r\n                    <span className=\"error\" style={{ color: \"red\" }}>\r\n                      {formErrors.password}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <Link to=\"/forget-password\" className=\"forget\">\r\n                forget password\r\n              </Link>\r\n              <button type=\"submit\" className=\"loginButton mt-1\">\r\n                login\r\n              </button>\r\n              <br />\r\n            </form>\r\n            <div className=\"register mt-2\">\r\n              <p className=\"my-0\">don't have an account?</p>\r\n              <Link to=\"/register\">\r\n                <button>Register</button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"section2\">\r\n        <img src={login} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"names":["useState","text","password","user_type","formValues","setFormValues","formErrors","setFormErrors","BASE_API_URL","useSelector","state","navigate","useNavigate","useEffect","localStorage","getItem","handleChange","e","target","name","value","trim","validate","values","errors","test","length","className","to","src","back","alt","style","display","justifyContent","alignItems","logoLogin","onSubmit","preventDefault","Object","Axios","then","res","data","toast","setItem","JSON","stringify","setTimeout","catch","err","console","error","noValidate","onChange","hidden","color","htmlFor","type","id","login"],"sourceRoot":""}